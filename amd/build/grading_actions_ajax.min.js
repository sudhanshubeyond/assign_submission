define(["jquery","core/ajax","core/templates","core/notification",],function(t,e,a,i){return{init:function(){var e,a,i=window.location.href,s=r("id",i),n=r("userid",i),c=100;t(document).on("click","#id_fill_ai_grade",(e=function(e){console.log(s),console.log(n),t(this).attr("data-programid"),t(this).attr("data-id"),t(this).attr("cmid"),t.ajax({url:M.cfg.wwwroot+"/local/assign_submission/ajax.php",method:"POST",data:{action:"getgrades",cmid:s,userid:n,sesskey:M.cfg.sesskey},success:function(e){try{200==e.status&&(t("#id_assignfeedbackcomments_editoreditable").html(e.feedback),t("#id_grade").val(e.grade))}catch(a){alert("There is some issue please try again later")}},error:function(t){alert("AJAX error: "+t.statusText)}})},a=0,function(){var t=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(t,i)},100)}))}};function r(t,e){return decodeURIComponent((RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e)||[null,""])[1].replace(/\+/g,"%20"))||null}});